---
layout: post
title: emqttd问答
description:make some questions and answers when read emqttd.
category: blog
---

1 how to start the application??
    In code file: xxx.app.src, the {mod, {xxx_app, []}} specify the OTP how to start this application, this is the entry for starting. when compiled, relative configuration will move to ebin/xxx.app.
    Then, OTP will look for the two callback function in xxx_app.erl: start and stop for starting or stopping the application.

2 how mnesia creates a database??
    initialize the mnesia --> start node. --> create mnesia schema --> start mnesia --> create database tables --> write data. --> do some query.

3 what is the difference between persistent session and transient session?
    persistent session: CleanSess=false, transient session: CleanSess=true.
    start a persistent session: first check the session of clientid, if undefined, create it; if exist,check if it is alive.
    start a transient session:first lookup the session using clientid in mnesia, if no, create it, if exist, destroy it and create it again. 


[congleetea]:    http://congleetea.github.io  "congleetea"
